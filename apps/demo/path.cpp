#include "demo/Demos.h"
#include "libgraphic/svg/Rasterizer.h"
#include <libutils/Chrono.h>

void draw_path(Graphic::Rasterizer &rast, const char *path, Trans2f &trans, Graphic::Color color)
{
    auto p = Graphic::Path::parse(path);

    rast.fill(p, trans, color);
}

void path_draw(Graphic::Painter &painter, Recti, float)
{
    painter.clear(Graphic::Colors::BLACK);

    auto t = Trans2f::scale(1) * Trans2f::translation({128, 128});
    Graphic::Rasterizer rast{painter.bitmap()};

    auto p0 = Graphic::Path::parse("M0 32C0 16.9151 0 9.37258 4.68629 4.68629C9.37258 0 16.9151 0 32 0H117.719C132.804 0 140.347 0 145.033 4.68629C149.719 9.37258 149.719 16.9151 149.719 32V88C149.719 103.085 149.719 110.627 145.033 115.314C140.347 120 132.804 120 117.719 120H32C16.9151 120 9.37258 120 4.68629 115.314C0 110.627 0 103.085 0 88V32Z");
    auto p1 = Graphic::Path::parse("M37.6335 72.928C35.3338 71.584 32.3953 70.496 28.1792 70.496C25.5601 70.496 22.1106 71.008 19.5553 73.376C17.8945 74.912 16.8085 77.216 16.8085 79.968C16.8085 82.144 17.5112 83.744 18.8527 85.152C20.0664 86.368 21.7912 87.264 23.452 87.776L25.7517 88.48C27.0932 88.864 27.9237 89.12 28.5625 89.504C29.3929 90.016 29.5845 90.656 29.5845 91.168C29.5845 91.872 29.2013 92.576 28.6263 93.024C27.7959 93.664 26.3267 93.664 25.7517 93.664C24.538 93.664 23.1965 93.408 21.9189 92.768C20.9607 92.32 19.6831 91.424 18.7888 90.656L14.8921 96.864C18.5971 100.128 22.7494 100.96 26.5822 100.96C29.5845 100.96 33.0341 100.512 35.8448 97.696C37.1224 96.416 38.7833 93.984 38.7833 90.208C38.7833 88.032 38.2084 86.304 36.5475 84.768C35.0782 83.424 33.4174 82.784 31.8204 82.272L29.3929 81.504C28.2431 81.12 27.2849 80.928 26.6461 80.544C26.1989 80.288 25.7517 79.904 25.7517 79.264C25.7517 78.816 26.0073 78.304 26.3267 77.984C26.9016 77.408 27.9875 77.152 28.9457 77.152C30.7344 77.152 32.5869 77.92 33.9923 78.752L37.6335 72.928Z");
    auto p2 = Graphic::Path::parse("M44.5066 53.344V100H53.7053V87.712L64.6927 100H77.0855L62.5847 84.384L76.1273 71.456H64.0539L53.7053 81.952V53.344H44.5066Z");
    auto p3 = Graphic::Path::parse("M81.072 71.456V100H90.2708V71.456H81.072ZM80.3054 59.296C80.3054 62.304 82.669 64.672 85.6714 64.672C88.6738 64.672 91.0373 62.304 91.0373 59.296C91.0373 56.288 88.6738 53.92 85.6714 53.92C82.669 53.92 80.3054 56.288 80.3054 59.296Z");
    auto p4 = Graphic::Path::parse("M115.335 78.88V71.456H108.053V66.656C108.053 65.312 108.053 63.072 109.075 61.728C109.458 61.216 110.353 60.576 111.758 60.576C112.908 60.576 114.249 61.024 115.271 61.664V53.6C113.738 53.024 112.077 52.64 110.033 52.64C106.52 52.64 103.901 53.92 102.048 55.904C99.1736 58.976 98.8542 62.624 98.8542 65.824V71.456H95.5324V78.88H98.8542V100H108.053V78.88H115.335Z");
    auto p5 = Graphic::Path::parse("M136.059 78.88V71.456H130.374V62.24H121.175V71.456H117.981V78.88H121.175V100H130.374V78.88H136.059Z");
    auto p6 = Graphic::Path::parse("M227.783 5.88C206.543 5.88 193.288 14.36 186.101 21.56C176.519 31.16 169.652 46.68 169.652 62.04C169.652 77.72 176.04 92.12 186.261 101.72C194.246 109.4 207.82 117.4 227.783 117.4C245.669 117.4 259.084 111.32 268.986 101.72C280.484 90.52 285.594 75.96 285.594 61.72C285.594 45.24 279.047 31.16 268.986 21.4C258.286 11 244.392 5.88 227.783 5.88ZM227.623 28.6C237.365 28.6 245.829 32.6 251.099 37.72C255.89 42.52 260.362 50.68 260.362 61.72C260.362 74.04 255.251 81.56 251.099 85.56C245.989 90.68 238.323 94.68 227.463 94.68C219.159 94.68 211.493 92.44 204.626 85.88C198.079 79.48 194.885 71.64 194.885 61.88C194.885 50.04 199.676 42.2 204.307 37.72C210.056 31.96 218.361 28.6 227.623 28.6Z");
    auto p7 = Graphic::Path::parse("M369.848 16.44C357.391 7.16001 345.573 5.88 338.227 5.88C328.326 5.88 319.382 7.96001 311.876 15.64C305.488 22.2 302.614 30.2 302.614 39.64C302.614 44.76 303.412 52.28 309.002 58.2C313.154 62.68 318.903 64.92 323.854 66.68L332.638 69.72C335.672 70.84 342.22 73.24 345.094 75.64C347.33 77.56 348.767 79.8 348.767 83.32C348.767 87.32 347.011 90.2 344.934 91.96C341.421 95 336.949 95.64 333.755 95.64C328.805 95.64 324.493 94.36 320.341 91.8C317.466 90.04 313.154 86.36 310.439 83.64L297.663 101.24C301.656 105.24 307.884 110.2 313.314 112.92C320.021 116.28 326.729 117.4 334.394 117.4C341.421 117.4 355.155 116.44 364.578 106.52C370.167 100.76 374 91.16 374 80.12C374 73.88 372.403 66.2 366.175 60.28C362.022 56.28 356.273 53.88 351.642 52.12L343.657 49.08C336.47 46.36 332.797 45.4 330.242 43C328.645 41.56 327.847 39.64 327.847 37.08C327.847 34.36 328.964 31.96 330.561 30.36C333.436 27.16 337.588 26.68 340.942 26.68C343.976 26.68 350.843 27.16 358.828 34.36L369.848 16.44Z");

    {
        rast.fill(p0, t, Graphic::Color::from_hex(0xff0066FF));
        rast.fill(p1, t, Graphic::Colors::WHITE);
        rast.fill(p2, t, Graphic::Colors::WHITE);
        rast.fill(p3, t, Graphic::Colors::WHITE);
        rast.fill(p4, t, Graphic::Colors::WHITE);
        rast.fill(p5, t, Graphic::Colors::WHITE);
        rast.fill(p6, t, Graphic::Colors::WHITE);
        rast.fill(p7, t, Graphic::Colors::WHITE);
    }
}